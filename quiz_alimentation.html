<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz : Alimentation et Perte de Poids</title>
    <style>
        /* Styles CSS pour une présentation agréable */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f8f8;
            color: #333;
            line-height: 1.6;
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 30px auto;
            text-align: center;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2em;
        }
        .intro-text {
            font-size: 1.1em;
            color: #555;
            margin-bottom: 30px;
        }
        .quiz-section {
            text-align: left;
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            background-color: #fdfdfd;
        }
        .quiz-section p {
            font-weight: bold;
            color: #34495e;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        .quiz-section label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 8px 0;
            transition: background-color 0.2s ease;
            border-radius: 4px;
        }
        .quiz-section label:hover {
            background-color: #eef;
        }
        .quiz-section input[type="radio"] {
            margin-right: 10px;
        }
        button {
            background-color: #28a745; /* Vert pour le bouton principal */
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 30px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        button:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }
        #resultatQuiz {
            margin-top: 30px;
            padding: 20px;
            border-radius: 8px;
            background-color: #e9ecef;
            color: #333;
            font-size: 1.1em;
            text-align: left;
            display: none; /* Caché par défaut */
        }
        #resultatQuiz h2 {
            color: #007bff;
            margin-bottom: 15px;
        }
        #downloadSection {
            margin-top: 40px;
            padding: 25px;
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            text-align: center;
            display: none; /* Caché par défaut */
        }
        #downloadSection h2 {
            color: #0c5460;
            margin-bottom: 15px;
        }
        #downloadPdfBtn {
            background-color: #007bff; /* Bleu pour le bouton de téléchargement */
            margin-top: 15px;
        }
        #downloadPdfBtn:hover {
            background-color: #0056b3;
        }
        .error-message {
            color: red;
            margin-top: 10px;
            display: none; /* Caché par défaut */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>QUIZ : Est-ce que ton alimentation bloque ta perte de poids (sans que tu t’en rendes compte) ?</h1>
        <p class="intro-text">Réponds aux 10 questions suivantes pour recevoir ton diagnostic personnalisé (et débloquer ta perte de poids avec un plan offert à la fin).</p>

        <form id="quizForm">
            <div class="quiz-section">
                <p>1. Sautes-tu un repas dans la journée ?</p>
                <label><input type="radio" name="q1" value="A"> A. Oui, souvent le petit-déj</label>
                <label><input type="radio" name="q1" value="B"> B. Oui, souvent le déjeuner (midi)</label>
                <label><input type="radio" name="q1" value="C"> C. Non, je mange 3 repas par jour</label>
                <label><input type="radio" name="q1" value="D"> D. Je mange à des horaires irréguliers</label>
            </div>

            <div class="quiz-section">
                <p>2. Le midi, tu manges plutôt :</p>
                <label><input type="radio" name="q2" value="A"> A. Un plat tout prêt, ou sur le pouce</label>
                <label><input type="radio" name="q2" value="B"> B. Un vrai repas complet et équilibré</label>
                <label><input type="radio" name="q2" value="C"> C. Une salade ou une soupe légère</label>
                <label><input type="radio" name="q2" value="D"> D. Je saute ce repas par manque de temps ou d’appétit</label>
            </div>

            <div class="quiz-section">
                <p>3. Ton sommeil : tu dors en moyenne…</p>
                <label><input type="radio" name="q3" value="A"> A. Moins de 5h par nuit</label>
                <label><input type="radio" name="q3" value="B"> B. Entre 5h et 6h</label>
                <label><input type="radio" name="q3" value="C"> C. Entre 7h et 8h</label>
                <label><input type="radio" name="q3" value="D"> D. 9h ou plus</label>
            </div>

            <div class="quiz-section">
                <p>4. Ton dîner, c’est souvent :</p>
                <label><input type="radio" name="q4" value="A"> A. Un plat plaisir (raclette, pizza, burger maison…)</label>
                <label><input type="radio" name="q4" value="B"> B. Un repas équilibré (protéines, légumes, un peu de féculents)</label>
                <label><input type="radio" name="q4" value="C"> C. Une soupe + yaourt ou fruit</label>
                <label><input type="radio" name="q4" value="D"> D. Je mange devant la télé sans trop me rappeler quoi</label>
            </div>

            <div class="quiz-section">
                <p>5. Combien de fois par semaine manges-tu des pizzas, burgers ou fast-food ?</p>
                <label><input type="radio" name="q5" value="A"> A. 3 fois ou plus</label>
                <label><input type="radio" name="q5" value="B"> B. 1 à 2 fois</label>
                <label><input type="radio" name="q5" value="C"> C. Rarement, une fois de temps en temps</label>
                <label><input type="radio" name="q5" value="D"> D. Jamais, j’évite complètement</label>
            </div>

            <div class="quiz-section">
                <p>6. Manges-tu souvent devant un écran ?</p>
                <label><input type="radio" name="q6" value="A"> A. Toujours devant la télé</label>
                <label><input type="radio" name="q6" value="B"> B. Souvent devant mon téléphone</label>
                <label><input type="radio" name="q6" value="C"> C. Parfois, mais j’essaie de faire attention</label>
                <label><input type="radio" name="q6" value="D"> D. Non, je mange à table sans distraction</label>
            </div>

            <div class="quiz-section">
                <p>7. Après tes repas, tu te sens :</p>
                <label><input type="radio" name="q7" value="A"> A. Fatiguée ou ballonnée</label>
                <label><input type="radio" name="q7" value="B"> B. Encore un peu affamée</label>
                <label><input type="radio" name="q7" value="C"> C. Satisfaite et rassasiée</label>
                <label><input type="radio" name="q7" value="D"> D. Prête à grignoter ou chercher un dessert</label>
            </div>

            <div class="quiz-section">
                <p>8. Tes apports en protéines, tu dirais que…</p>
                <label><input type="radio" name="q8" value="A"> A. J’en mange trop peu ou pas à chaque repas</label>
                <label><input type="radio" name="q8" value="B"> B. Je n’ai aucune idée de combien il m’en faut</label>
                <label><input type="radio" name="q8" value="C"> C. Je fais attention à en avoir à chaque repas (25–30g midi/soir)</label>
                <label><input type="radio" name="q8" value="D"> D. Je suis végé/végan mais sans suivi précis</label>
            </div>

            <div class="quiz-section">
                <p>9. Dans tes repas principaux, il y a souvent des féculents ?</p>
                <label><input type="radio" name="q9" value="A"> A. Dans les deux repas (pâtes, riz, pain…)</label>
                <label><input type="radio" name="q9" value="B"> B. Au moins une fois par jour</label>
                <label><input type="radio" name="q9" value="C"> C. Très peu, je privilégie légumes et protéines</label>
                <label><input type="radio" name="q9" value="D"> D. Je ne fais pas attention</label>
            </div>

            <div class="quiz-section">
                <p>10. Combien de pas fais-tu en moyenne chaque jour ?</p>
                <label><input type="radio" name="q10" value="A"> A. Moins de 5000</label>
                <label><input type="radio" name="q10" value="B"> B. Entre 5000 et 7000</label>
                <label><input type="radio" name="q10" value="C"> C. Entre 7000 et 10 000</label>
                <label><input type="radio" name="q10" value="D"> D. Plus de 10 000</label>
            </div>

            <p class="error-message" id="errorMessage">Veuillez répondre à toutes les questions avant de valider.</p>
            <button type="button" onclick="calculerDiagnostic()">Obtenir mon diagnostic</button>
        </form>

        <div id="resultatQuiz">
            <h2>Ton diagnostic personnalisé :</h2>
            <p id="diagnosticText"></p>
        </div>

        <div id="downloadSection">
            <h2>Tu veux débloquer ta perte de poids avec un plan simple et efficace ?</h2>
            <p>→ Reçois 1 journée de menus personnalisés + ton diagnostic complet.</p>
            <button id="downloadPdfBtn">Clique ici pour le recevoir</button>
        </div>
    </div>

    <script>
        function calculerDiagnostic() {
            const quizForm = document.getElementById('quizForm');
            let score = 0;
            const answers = {};
            const questions = 10;
            let allAnswered = true;
            const errorMessage = document.getElementById('errorMessage');

            // Collecter les réponses et calculer le score
            for (let i = 1; i <= questions; i++) {
                const questionName = `q${i}`;
                const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);

                if (!selectedOption) {
                    allAnswered = false;
                    break; // Arrêter si une question n'est pas répondue
                }
                answers[questionName] = selectedOption.value;

                // Logique de score (vous pouvez ajuster ces points)
                switch(questionName) {
                    case 'q1': // Sautes-tu un repas
                        if (selectedOption.value === 'A' || selectedOption.value === 'B' || selectedOption.value === 'D') score += 2; // Mauvaise habitude
                        break;
                    case 'q2': // Midi
                        if (selectedOption.value === 'A' || selectedOption.value === 'D') score += 3;
                        if (selectedOption.value === 'C') score += 1;
                        break;
                    case 'q3': // Sommeil
                        if (selectedOption.value === 'A' || selectedOption.value === 'B') score += 3;
                        if (selectedOption.value === 'D') score += 1;
                        break;
                    case 'q4': // Dîner
                        if (selectedOption.value === 'A' || selectedOption.value === 'D') score += 3;
                        if (selectedOption.value === 'C') score += 1;
                        break;
                    case 'q5': // Fast-food
                        if (selectedOption.value === 'A') score += 4;
                        if (selectedOption.value === 'B') score += 2;
                        break;
                    case 'q6': // Écran en mangeant
                        if (selectedOption.value === 'A' || selectedOption.value === 'B') score += 3;
                        if (selectedOption.value === 'C') score += 1;
                        break;
                    case 'q7': // Après repas
                        if (selectedOption.value === 'A' || selectedOption.value === 'B' || selectedOption.value === 'D') score += 2;
                        break;
                    case 'q8': // Protéines
                        if (selectedOption.value === 'A' || selectedOption.value === 'B' || selectedOption.value === 'D') score += 2;
                        break;
                    case 'q9': // Féculents
                        if (selectedOption.value === 'A' || selectedOption.value === 'D') score += 2;
                        if (selectedOption.value === 'B') score += 1;
                        break;
                    case 'q10': // Pas par jour
                        if (selectedOption.value === 'A' || selectedOption.value === 'B') score += 2;
                        break;
                }
            }

            if (!allAnswered) {
                errorMessage.style.display = 'block'; // Afficher le message d'erreur
                document.getElementById('resultatQuiz').style.display = 'none';
                document.getElementById('downloadSection').style.display = 'none';
                return;
            } else {
                errorMessage.style.display = 'none'; // Cacher le message d'erreur
            }

            // Déterminer le diagnostic en fonction du score
            let diagnosticText = "";
            if (score <= 5) {
                diagnosticText = "Félicitations ! Tes habitudes alimentaires sont plutôt bonnes et ne semblent pas être un frein majeur à ta perte de poids. Continue sur cette lancée !";
            } else if (score <= 15) {
                diagnosticText = "Tu es sur la bonne voie, mais il y a quelques ajustements à faire pour optimiser ta perte de poids. De petites modifications peuvent faire une grande différence !";
            } else if (score <= 25) {
                diagnosticText = "Ton alimentation présente plusieurs points qui pourraient freiner ta perte de poids. Ne t'inquiète pas, c'est le moment de mettre en place de nouvelles stratégies pour des résultats durables.";
            } else {
                diagnosticText = "Il semblerait que ton alimentation actuelle soit un obstacle significatif à ta perte de poids. Mais la bonne nouvelle, c'est que tu as identifié les points clés à améliorer. Un changement profond t'attend !";
            }

            document.getElementById('diagnosticText').textContent = diagnosticText;
            document.getElementById('resultatQuiz').style.display = 'block'; // Afficher le diagnostic

            // Afficher la section de téléchargement après le diagnostic
            document.getElementById('downloadSection').style.display = 'block';
        }

        // Gestion du téléchargement du PDF
        document.getElementById('downloadPdfBtn').onclick = function() {
            // Important : remplacez 'ton_plan_personnalise.pdf' par le nom exact de votre fichier PDF
            // Ce fichier PDF doit être dans le même dossier que votre fichier HTML.
            window.location.href = 'ton_plan_personnalise.pdf';
        };
    </script>
</body>
</html>
